{"version":3,"sources":["../../../../../../../Documents/GitHub/mimosaweb/src/components/booking/BookingWidget.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useTranslations } from 'next-intl'\nimport { Spinner } from '@/components/ui'\n\nconst BOOKING_WIDGET_URL = process.env.NEXT_PUBLIC_BOOKING_WIDGET_URL || 'https://mimosa-spa-booking-widget.netlify.app'\n\nexport function BookingWidget() {\n  const t = useTranslations('booking.widget')\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    // Set a timeout to show error if iframe doesn't load\n    const timeout = setTimeout(() => {\n      if (isLoading) {\n        setError('El sistema de reservas est치 tardando en cargar. Por favor, intenta recargar la p치gina.')\n      }\n    }, 15000) // 15 second timeout\n\n    return () => clearTimeout(timeout)\n  }, [isLoading])\n\n  const handleIframeLoad = () => {\n    setIsLoading(false)\n    setError(null)\n  }\n\n  const handleIframeError = () => {\n    setIsLoading(false)\n    setError('No se pudo cargar el sistema de reservas. Por favor, intenta de nuevo m치s tarde.')\n  }\n\n  return (\n    <div className=\"booking-widget-container relative bg-white rounded-2xl shadow-elevated overflow-hidden\">\n      {/* Loading State */}\n      {isLoading && (\n        <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-cream z-10\">\n          <Spinner size=\"lg\" />\n          <p className=\"mt-4 text-warm-gray\">{t('loading')}</p>\n        </div>\n      )}\n\n      {/* Error State */}\n      {error && !isLoading && (\n        <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-cream z-10 p-8 text-center\">\n          <div className=\"text-6xl mb-4\">游땞</div>\n          <p className=\"text-dark mb-4\">{error}</p>\n          <button\n            onClick={() => window.location.reload()}\n            className=\"btn-primary\"\n          >\n            Recargar P치gina\n          </button>\n        </div>\n      )}\n\n      {/* Iframe */}\n      <iframe\n        src={BOOKING_WIDGET_URL}\n        title=\"Mimosa Spa Booking System\"\n        className=\"w-full border-0\"\n        style={{ minHeight: '850px', height: '100%' }}\n        onLoad={handleIframeLoad}\n        onError={handleIframeError}\n        allow=\"payment\"\n        sandbox=\"allow-scripts allow-same-origin allow-forms allow-popups allow-top-navigation\"\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAqB,QAAQ,GAAG,CAAC,8BAA8B,EAAI,gDAElE,SAAS,IACd,IAAM,EAAI,CAAA,EAAA,EAAA,eAAe,AAAf,EAAgB,kBACpB,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,YAElD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,IAAM,EAAU,WAAW,KACrB,GACF,EAAS,MADI,mFAGjB,EAAG,MAEH,CAFU,KAEH,IAAM,WAFiB,EAEJ,EAC5B,EAAG,CAAC,EAAU,EAaZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mGAEZ,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qFACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,KAAK,OACd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAuB,EAAE,gBAKzC,GAAS,CAAC,GACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qGACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAgB,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0BAAkB,IAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,OAAO,QAAQ,CAAC,MAAM,GACrC,UAAU,uBACX,uBAOL,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,IAAK,EACL,MAAM,4BACN,UAAU,kBACV,MAAO,CAAE,UAAW,QAAS,OAAQ,MAAO,EAC5C,OAxCmB,CAwCX,IAvCZ,GAAa,GACb,EAAS,KACX,EAsCM,QApCoB,CAoCX,IAnCb,GAAa,GACb,EAAS,mFACX,EAkCM,MAAM,UACN,QAAQ,oFAIhB"}